<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Profile - OnlyFood</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<style>
body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;margin:0;background:#ffffff;min-height:100vh;color:#17353a;}
header{background:#22c55e;color:#fff;padding:14px 26px;display:flex;justify-content:space-between;align-items:center;}
header a{color:#fff;text-decoration:none;opacity:.95;margin-left:16px}
header a:hover{opacity:1}
.container{max-width:920px;margin:46px auto;padding:34px;background:#fff;border:1px solid #e6f3ea;border-radius:16px;box-shadow:0 8px 24px rgba(16,24,40,.06);}
.profile-grid{display:grid;grid-template-columns:220px 1fr;gap:40px;}
@media (max-width:760px){.profile-grid{grid-template-columns:1fr;}}
.avatar-slot{width:200px;aspect-ratio:1/1;border-radius:50%;display:flex;align-items:center;justify-content:center;overflow:hidden;background:#f6fef8;border:2px solid #bbf7d0;box-shadow:none;}
.avatar-slot img{width:100%;height:100%;object-fit:cover;display:block;}
.avatar-fallback{font-size:3rem;font-weight:700;color:#16a34a;}
.badge-row{display:flex;flex-wrap:wrap;gap:8px;margin:14px 0 6px;}
.badge{background:#f0fdf4;border:1px solid #bbf7d0;padding:6px 12px;border-radius:30px;font-size:.7rem;letter-spacing:.12em;text-transform:uppercase;color:#0f2e1f;}
h1{margin:0 0 4px;font-size:1.9rem;color:#0f2e1f;}
.meta{font-size:.85rem;opacity:.75;margin-bottom:16px;}
.bio{line-height:1.55;font-size:.95rem;margin:0 0 18px;}
.info-row{margin:6px 0;font-size:.9rem;}
.actions{margin-top:24px;display:flex;gap:12px;flex-wrap:wrap;}
.button{background:#22c55e;border:none;color:#fff;padding:10px 16px;font-size:.85rem;font-weight:700;border-radius:10px;text-decoration:none;display:inline-flex;align-items:center;gap:6px;box-shadow:0 6px 16px rgba(34,197,94,.25);}
.button:hover{background:#1ea34f}
.button.secondary{background:transparent;color:#1ea34f;border:1px solid #86efac;box-shadow:none;}
.button.secondary:hover{background:#f0fdf4}
.empty{padding:18px;text-align:center;border:1px dashed #cfe9d8;border-radius:12px;color:#587a68;font-size:.9rem;}
</style>
</head>
<body>
<header>
  <div><strong>OnlyFood</strong></div>
  <nav>
    <a href="/feed">Feed</a>
    <a href="/profile/edit">Edit</a>
    <a href="/logout">Logout</a>
  </nav>
</header>
<div class="container">
{% if user %}
  <div class="profile-grid">
    <div>
      <div class="avatar-slot">
        {% if user.avatar_url %}
          <img src="{{ user.avatar_url }}" alt="Avatar">
        {% else %}
          <div class="avatar-fallback">
            {{ (user.name or '?')[:1]|upper }}{{ (user.lastname or '')[:1]|upper }}
          </div>
        {% endif %}
      </div>
      <div class="badge-row">
        {% if user.description %}<span class="badge">{{ user.description }}</span>{% endif %}
      </div>
    </div>
    <div>
      <h1>{{ user.name }} {{ user.lastname }}</h1>
      <div class="meta">
        {% if user.location %}{{ user.location }}{% else %}Member{% endif %}
      </div>

      {% if user.bio %}
        <div class="bio">{{ user.bio }}</div>
      {% else %}
        <div class="empty">No bio yet.</div>
      {% endif %}

      {% if user.location %}
        <div class="info-row">üìç {{ user.location }}</div>
      {% endif %}

      <div class="actions">
        <a href="/profile/edit" class="button">Edit Profile</a>
        <a href="/feed" class="button secondary">Back to Feed</a>
        <form action="/delete_profile" method="POST" onsubmit="return confirm('Delete your account? This cannot be undone.');" style="display:inline;">
          <button class="button secondary" type="submit">Delete Account</button>
        </form>
      </div>
    </div>
  </div>
{% else %}
  <p>User not found.</p>
{% endif %}
</div>
</body>
</html>